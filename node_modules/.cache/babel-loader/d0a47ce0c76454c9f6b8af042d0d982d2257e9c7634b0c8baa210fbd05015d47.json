{"ast":null,"code":"import _objectSpread from\"C:/folder mata kuliah/magang dot/quiz-app-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import Result from\"./Result\";import{saveQuizState,loadQuizState}from\"../utils/storage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Quiz=_ref=>{let{questions,timeLimit}=_ref;const[state,setState]=useState(()=>{const saved=loadQuizState();return saved||{currentQuestion:0,score:0,timeLeft:timeLimit,answers:[],isComplete:false,showResult:false};});useEffect(()=>{const timer=setInterval(()=>{setState(prev=>{if(prev.timeLeft<=0||prev.isComplete){clearInterval(timer);return _objectSpread(_objectSpread({},prev),{},{isComplete:true,showResult:true});}return _objectSpread(_objectSpread({},prev),{},{timeLeft:prev.timeLeft-1});});},1000);return()=>clearInterval(timer);},[]);useEffect(()=>{saveQuizState(state);},[state]);const handleAnswer=answer=>{const isCorrect=answer===questions[state.currentQuestion].correctAnswer;setState(prev=>_objectSpread(_objectSpread({},prev),{},{score:isCorrect?prev.score+1:prev.score,answers:[...prev.answers,answer],currentQuestion:prev.currentQuestion+1,isComplete:prev.currentQuestion+1>=questions.length,showResult:prev.currentQuestion+1>=questions.length}));};const handleRetry=()=>{setState({currentQuestion:0,score:0,timeLeft:timeLimit,answers:[],isComplete:false,showResult:false});};if(state.showResult||state.timeLeft<=0){return/*#__PURE__*/_jsx(Result,{score:state.score,totalQuestions:questions.length,answeredQuestions:state.answers.length,timeSpent:timeLimit-state.timeLeft,onRetry:handleRetry});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Question \",state.currentQuestion+1,\"/\",questions.length]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Time Left: \",Math.floor(state.timeLeft/60),\":\",(state.timeLeft%60).toString().padStart(2,\"0\")]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:questions[state.currentQuestion].question}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:questions[state.currentQuestion].options.map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAnswer(option),className:\"w-full p-4 text-left bg-white border rounded-lg hover:bg-gray-50\",children:option},option))})]});};export default Quiz;","map":{"version":3,"names":["React","useState","useEffect","Result","saveQuizState","loadQuizState","jsx","_jsx","jsxs","_jsxs","Quiz","_ref","questions","timeLimit","state","setState","saved","currentQuestion","score","timeLeft","answers","isComplete","showResult","timer","setInterval","prev","clearInterval","_objectSpread","handleAnswer","answer","isCorrect","correctAnswer","length","handleRetry","totalQuestions","answeredQuestions","timeSpent","onRetry","className","children","Math","floor","toString","padStart","question","options","map","option","onClick"],"sources":["C:/folder mata kuliah/magang dot/quiz-app-react/src/components/Quiz.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Question } from \"../types\";\nimport Result from \"./Result\";\nimport { saveQuizState, loadQuizState } from \"../utils/storage\";\n\n\ninterface QuizState {\n  currentQuestion: number;\n  score: number;\n  timeLeft: number;\n  answers: string[];\n  isComplete: boolean;\n  showResult: boolean; // Add this line\n}\n\ninterface QuizProps {\n  questions: Question[];\n  timeLimit: number; // in seconds\n}\n\nconst Quiz: React.FC<QuizProps> = ({ questions, timeLimit }) => {\n  const [state, setState] = useState<QuizState>(() => {\n    const saved = loadQuizState();\n    return (\n      saved || {\n        currentQuestion: 0,\n        score: 0,\n        timeLeft: timeLimit,\n        answers: [],\n        isComplete: false,\n        showResult: false,\n      }\n    );\n  });\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setState((prev) => {\n        if (prev.timeLeft <= 0 || prev.isComplete) {\n          clearInterval(timer);\n          return { ...prev, isComplete: true, showResult: true };\n        }\n        return { ...prev, timeLeft: prev.timeLeft - 1 };\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    saveQuizState(state);\n  }, [state]);\n\n  const handleAnswer = (answer: string) => {\n    const isCorrect = answer === questions[state.currentQuestion].correctAnswer;\n    setState((prev) => ({\n      ...prev,\n      score: isCorrect ? prev.score + 1 : prev.score,\n      answers: [...prev.answers, answer],\n      currentQuestion: prev.currentQuestion + 1,\n      isComplete: prev.currentQuestion + 1 >= questions.length,\n      showResult: prev.currentQuestion + 1 >= questions.length,\n    }));\n  };\n\n  const handleRetry = () => {\n    setState({\n      currentQuestion: 0,\n      score: 0,\n      timeLeft: timeLimit,\n      answers: [],\n      isComplete: false,\n      showResult: false,\n    });\n  };\n\n  if (state.showResult || state.timeLeft <= 0) {\n    return (\n      <Result\n        score={state.score}\n        totalQuestions={questions.length}\n        answeredQuestions={state.answers.length}\n        timeSpent={timeLimit - state.timeLeft}\n        onRetry={handleRetry}\n      />\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          Question {state.currentQuestion + 1}/{questions.length}\n        </div>\n        <div>\n          Time Left: {Math.floor(state.timeLeft / 60)}:\n          {(state.timeLeft % 60).toString().padStart(2, \"0\")}\n        </div>\n      </div>\n      <div className=\"text-xl\">{questions[state.currentQuestion].question}</div>\n      <div className=\"space-y-3\">\n        {questions[state.currentQuestion].options.map((option) => (\n          <button\n            key={option}\n            onClick={() => handleAnswer(option)}\n            className=\"w-full p-4 text-left bg-white border rounded-lg hover:bg-gray-50\"\n          >\n            {option}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n  \n};\n\nexport default Quiz;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}